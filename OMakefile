.PHONY: all byte native test doc clean

.SUBDIRS: src test
	.DEFAULT: /.PHONY/all

OCAMLBUILD = ocamlbuild -use-ocamlfind

PROGRAM = polysat

.DEFAULT: all

all: byte native doc

byte:
	$(OCAMLBUILD) $(PROGRAM).byte

native:
	$(OCAMLBUILD) $(PROGRAM).native

test:
	$(OCAMLBUILD) -tag package\(oUnit\) -I test test.byte
	- ./test.byte

doc:
	$(OCAMLBUILD) 'src/doc.docdir/index.html'

clean:
	$(OCAMLBUILD) -clean
